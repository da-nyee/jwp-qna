package qna.subway.domain;

import org.springframework.lang.NonNull;

import javax.persistence.*;

/*
create table station (
   id bigint generated by default as identity,
   name varchar(255) not null,
   primary key (id)
)
*/
@Table(name = "station")    // í…Œì´ë¸” ì´ë¦„ ì§ì ‘ ì§€ì • ğŸ‘‰ ë”°ë¡œ ì•ˆí•˜ë©´ í´ë˜ìŠ¤ëª…ìœ¼ë¡œ í…Œì´ë¸”ëª… ì„¤ì • O
@Entity                     // ì´ í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ DB table ìƒì„±í•˜ê² ë‹¤. ğŸ‘‰ ì´ê±° í•˜ë‚˜ë©´ ì¼ë‹¨ ëë‚¨
// Entity í´ë˜ìŠ¤ëŠ” id í•„ë“œê°€ í•„ìš”í•¨ ğŸ‘‰ ì‹ë³„ìê°€ í•„ìš”í•¨
public class Station {

    // ì‹ë³„ì
    @Id
    // `AUTO`ë¡œ ë‘ë©´ vendor ì‚¬ì— ë§ì¶°ì„œ ì„¤ì •í•¨ ğŸ‘‰ ê½¤ë‚˜ ìœ„í—˜í•œ í–‰ë™ ğŸ‘‰ ë‚´ê°€ ì–´ë–»ê²Œ DBê°€ ë§Œë“¤ì–´ì§€ëŠ”ì§€ ëª¨ë¥¸ë‹¤ëŠ” ê²ƒ ğŸ‘‰ ë”°ë¼ì„œ, ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ëª…ì‹œí•˜ëŠ” ê²Œ ì¢‹ìŒ
    // `IDENTITY`ë¡œ ë‘ë©´ auto_increment O
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    // í•„ë“œë„ not null
    @NonNull
    // not null ğŸ‘‰ DB scheme ìƒì—ì„œë§Œ not null ì§€ì • ğŸ‘‰ í•„ë“œëŠ” null ë  ìˆ˜ ìˆìŒ
    // nullable = true (default)
    @Column(nullable = false)
    private String name;

    // ê¸°ë³¸ ìƒì„±ìê°€ ì™œ í•„ìš”í• ê¹Œ? JPAê°€ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ê³¼ ê´€ë ¨ O ğŸ‘‰ Java Reflection API ìœ ì‚¬ ê¸°ìˆ ì„ ì‚¬ìš©í•¨
    // ì¦‰, ê¸°ë³¸ ìƒì„±ìë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  -> ì—¬ê¸°ì— ìˆëŠ” í•„ë“œ ê°’ë“¤ì„ ì°¨ë¡€ì°¨ë¡€ ì±„ì›Œë‚˜ê°
    public Station() {
    }

    public Station(String name) {
        this(null, name);
    }

    public Station(Long id, String name) {
        this.id = id;
        this.name = name;
    }
}
